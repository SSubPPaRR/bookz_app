class NewReleaseNotifier extends ChangeNotifier{
  var newRelease;
  BookSet parseBookSet(String responseBody) {
    final Map parsed = json.decode(responseBody);
    return BookSet.fromJson(parsed);
  }

  Future<BookSet> fetchBookSet(String url) async{
    final response = await http.get(url);
    return parseBookSet(response.body);
  }

  Future<List<Book>> retrieveNewReleases() async{
    var bookSet = await fetchBookSet("https://api.itbook.store/1.0/new");
    List<Book> bookList = bookSet.books;
    print(bookList);
    return bookList;
  }

  Future<void> getNewReleases() async{
    newRelease = await retrieveNewReleases();
    // setState(() {});
  }

  void updateWidget(){
    getNewReleases();
    notifyListeners();
  }
}